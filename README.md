# Institute Score Dashboard (рейтинг HW ИИИ ДПО 25-26)

![Image](https://github.com/user-attachments/assets/caeed385-5cc4-4e13-bd8b-1a60cf85361a)

Локальный дашборд для просмотра и анализа рейтинга по домашним работам из XLSX (без БД: данные читаются напрямую из файлов).

## Интерфейс
- Слева: фильтры и действия (обновление XLSX, экспорт CSV, быстрые ограничения).
- Центр: KPI, сводка по HW, таблица рейтинга, «Инсайты» (scatter + распределение).
- Справа: карточка выбранного студента + сравнение (кривая динамики и список людей).
- В таблице: клик по строке выбирает студента, кнопка “+” добавляет/удаляет из сравнения.
- Если в данных есть проблемы (например, не найдены нужные колонки), вверху появляется предупреждение с деталями.

## Скриншоты
Примечание: скриншоты могут слегка отличаться от текущей верстки.

![Image](https://github.com/user-attachments/assets/b8da417c-360e-45a2-82b4-bbaff3f54c6b)

![Image](https://github.com/user-attachments/assets/40e1dade-eb47-408c-a4bc-052be550dae8)

## Что нужно
- `uv` (менеджер зависимостей)
- Python 3.11+

## Запуск
1) Установить зависимости:
```
uv sync
```
2) Запустить сервер:
```
uv run uvicorn app.main:app --reload
```
или через `make`:
```
make dev
```
3) Открыть в браузере:
```
http://127.0.0.1:8000/
```

## Разработка
- Проверка, что код компилируется:
```
uv run python -m compileall -q app tests
```
- или:
```
make compile
```
- Запуск тестов:
```
uv run python -m unittest discover -s tests -p "test*.py"
```
- или:
```
make test
```

## Обновление данных
- Положите/перезапишите XLSX-файлы в корне проекта (`HW01 ... .xlsx`, `HW02 ... .xlsx`, и т.д.)
- Нажмите кнопку «Обновить XLSX» в интерфейсе
- Диапазон HW в заголовке обновляется автоматически

## Имена файлов (важно)
- Файл должен быть в корне проекта и иметь расширение `.xlsx`
- Имя должно содержать `HW` и номер, например: `HW01 на 2025.12.06 13 30.xlsx`, `hw7.xlsx`
- Если есть несколько файлов с одним номером, берется самый свежий по дате изменения
- Файлы без `HW` в названии игнорируются
- XLSX не добавляются в репозиторий (они в `.gitignore`)

## Требования к колонкам
- В таблице должны быть колонки с `ФИО` и `Результат` (или `Статус`/`Оценка`)

## Расположите файлы таблиц, как показано на скриншоте

![Image](https://github.com/user-attachments/assets/b67f4a0b-1b0d-4241-aa5a-34096ae87c69)

Примечание: графики строятся через Plotly CDN, нужен интернет при первом открытии.
